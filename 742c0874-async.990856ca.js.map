{"version":3,"sources":["src/Waterfall/demos/markdown.tsx?techStack=react","node_modules/.pnpm/@ant-design+x@1.6.1_antd@5.29.3_react-dom@18.3.1_react@18.3.1__react@18.3.1__react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@ant-design/x/es/index.js","node_modules/.pnpm/@antv+l7@2.23.2/node_modules/@antv/l7/es/index.js","src/Waterfall/demos/common.tsx?techStack=react","src/index.ts"],"sourcesContent":["import '/home/runner/work/GPT-Vis/GPT-Vis/src/Waterfall/demos/markdown.tsx?watch=parent';import type { BubbleProps } from '@ant-design/x';\nimport { Bubble } from '@ant-design/x';\nimport { ChartType, GPTVisLite, Waterfall, withChartCode } from '@antv/gpt-vis';\nimport React from 'react';\n\nconst markdownContent = `\n当然了，以下是为你绘制的一个瀑布图，以下为第一个季度、第二季度、第三季度、第四季度的收益分别为6.2 百万、-2.6百万、4.1 百万、3.7百万，总计11.4 百万。\n\n\\`\\`\\`vis-chart\n{\n  \"type\": \"waterfall\",\n  \"data\": [\n    { \"category\": \"第一季度\", \"value\": 6200000 },\n    { \"category\": \"第二季度\", \"value\": -2600000 },\n    { \"category\": \"第三季度\", \"value\": 4100000 },\n    { \"category\": \"第四季度\", \"value\": 3700000 },\n    { \"category\": \"总计\", \"value\": 11400000, \"isTotal\": true }\n  ],\n  \"title\": \"季度收益瀑布图\",\n  \"axisXTitle\": \"季度\",\n  \"axisYTitle\": \"金额\",\n  \"style\": {\n    \"palette\": {\n      \"positiveColor\": \"#52c41a\",\n      \"negativeColor\": \"#ff4d4f\",\n      \"totalColor\": \"#666\"\n    }\n  }\n}\n\\`\\`\\`\n`;\n\nconst bgStyle = {\n  display: 'grid',\n  gridGap: '20px 0',\n  padding: 20,\n  background: '#f7f7f7',\n  borderRadius: 8,\n  overflow: 'auto',\n};\n\nconst CodeComponent = withChartCode({\n  components: { [ChartType.Waterfall]: Waterfall },\n  style: { width: '100%' },\n});\nconst RenderMarkdown: BubbleProps['messageRender'] = (content) => (\n  <GPTVisLite components={{ code: CodeComponent }}>{content}</GPTVisLite>\n);\n\nexport default () => (\n  <div style={bgStyle}>\n    <Bubble\n      placement=\"end\"\n      content=\"帮我绘制瀑布图显示季度收益情况\"\n      avatar={{\n        src: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2Q5LRJ3LFPUAAAAAAAAAAAAADmJ7AQ/fmt.webp',\n      }}\n      styles={{ content: { background: '#ebebeb' } }}\n    />\n    <Bubble\n      content={markdownContent}\n      messageRender={RenderMarkdown}\n      avatar={{\n        src: 'https://mdn.alipayobjects.com/huamei_je4oko/afts/img/A*6LRBT7rjOkQAAAAAAAAAAAAADsZ-AQ/original',\n      }}\n      variant=\"shadow\"\n      styles={{ content: { background: '#fff' } }}\n    />\n  </div>\n);\n","export { default as version } from \"./version\";\nexport { default as Actions } from \"./actions\";\nexport { default as Attachments } from \"./attachments\";\nexport { default as Sender } from \"./sender\";\nexport { default as Bubble } from \"./bubble\";\nexport { default as Conversations } from \"./conversations\";\nexport { default as Prompts } from \"./prompts\";\nexport { default as ThoughtChain } from \"./thought-chain\";\nexport { default as Suggestion } from \"./suggestion\";\nexport { default as Welcome } from \"./welcome\";\nexport { default as XProvider } from \"./x-provider\";\nexport { default as useXChat } from \"./use-x-chat\";\nexport { default as useXAgent } from \"./use-x-agent\";\nexport { default as XStream } from \"./x-stream\";\nexport { default as XRequest } from \"./x-request\";","// src/index.ts\nimport Source from \"@antv/l7-source\";\nexport * from \"@antv/l7-component\";\nexport * from \"@antv/l7-core\";\nexport * from \"@antv/l7-layers\";\nexport * from \"@antv/l7-maps\";\nexport * from \"@antv/l7-scene\";\nexport * from \"@antv/l7-utils\";\nexport * from \"./version\";\nexport {\n  Source\n};\n","import '/home/runner/work/GPT-Vis/GPT-Vis/src/Waterfall/demos/common.tsx?watch=parent';import { Waterfall } from '@antv/gpt-vis';\nimport { ColorPicker, Form, Select } from 'antd';\nimport React, { useState } from 'react';\n\nconst data = [\n  { category: '第一季度', value: 120000000 },\n  { category: '第二季度', value: 569000000 },\n  { category: '第三季度', value: 231000000 },\n  { category: '前三季度总计', isIntermediateTotal: true },\n  { category: '第四季度', value: -342000000 },\n  { category: '第五季度', value: -232000000 },\n  { category: '四五季度总计', isIntermediateTotal: true },\n  { category: '总计', isTotal: true },\n];\n\nconst themes = ['default', 'academy', 'dark'] as const;\n\nconst DEFAULT_POSITIVE_COLOR = '#F56E53';\nconst DEFAULT_NEGATIVE_COLOR = '#3CC27F';\nconst DEFAULT_TOTAL_COLOR = '#1783FF';\n\nexport default () => {\n  const [theme, setTheme] = useState<'default' | 'academy' | 'dark'>('default');\n  const [backgroundColor, setBackgroundColor] = useState<string>('');\n  const [positiveColor, setPositiveColor] = useState<string>(DEFAULT_POSITIVE_COLOR);\n  const [negativeColor, setNegativeColor] = useState<string>(DEFAULT_NEGATIVE_COLOR);\n  const [totalColor, setTotalColor] = useState<string>(DEFAULT_TOTAL_COLOR);\n\n  const onValuesChange = (changedValues: any) => {\n    if (changedValues.theme) {\n      setTheme(changedValues.theme);\n    }\n    if (changedValues.backgroundColor !== undefined) {\n      const color = changedValues.backgroundColor;\n      if (color === null) {\n        setBackgroundColor('#ffffff');\n      } else {\n        setBackgroundColor(typeof color === 'string' ? color : color.toHexString?.() || '#ffffff');\n      }\n    }\n    if (changedValues.positiveColor !== undefined) {\n      const color = changedValues.positiveColor;\n      setPositiveColor(\n        typeof color === 'string' ? color : color.toHexString?.() || DEFAULT_POSITIVE_COLOR,\n      );\n    }\n    if (changedValues.negativeColor !== undefined) {\n      const color = changedValues.negativeColor;\n      setNegativeColor(\n        typeof color === 'string' ? color : color.toHexString?.() || DEFAULT_NEGATIVE_COLOR,\n      );\n    }\n    if (changedValues.totalColor !== undefined) {\n      const color = changedValues.totalColor;\n      setTotalColor(\n        typeof color === 'string' ? color : color.toHexString?.() || DEFAULT_TOTAL_COLOR,\n      );\n    }\n  };\n\n  return (\n    <div>\n      <Form\n        layout=\"inline\"\n        style={{ marginBottom: 12 }}\n        initialValues={{\n          theme,\n          backgroundColor,\n          positiveColor,\n          negativeColor,\n          totalColor,\n        }}\n        key={theme}\n        onValuesChange={onValuesChange}\n      >\n        <Form.Item label=\"主题\" name=\"theme\" style={{ marginBottom: 6 }}>\n          <Select style={{ width: 120 }} options={themes.map((t) => ({ label: t, value: t }))} />\n        </Form.Item>\n        <Form.Item label=\"背景颜色\" name=\"backgroundColor\" style={{ marginBottom: 6 }}>\n          <ColorPicker showText allowClear />\n        </Form.Item>\n        <Form.Item label=\"正值颜色\" name=\"positiveColor\" style={{ marginBottom: 6 }}>\n          <ColorPicker showText />\n        </Form.Item>\n        <Form.Item label=\"负值颜色\" name=\"negativeColor\" style={{ marginBottom: 6 }}>\n          <ColorPicker showText />\n        </Form.Item>\n        <Form.Item label=\"总计颜色\" name=\"totalColor\" style={{ marginBottom: 6 }}>\n          <ColorPicker showText />\n        </Form.Item>\n      </Form>\n      <Waterfall\n        data={data}\n        axisXTitle=\"季度\"\n        axisYTitle=\"金额\"\n        containerStyle={{ height: 300 }}\n        theme={theme}\n        style={{\n          backgroundColor: backgroundColor,\n          palette: {\n            positiveColor,\n            negativeColor,\n            totalColor,\n          },\n        }}\n      />\n    </div>\n  );\n};\n","/********** export chart **********/\nexport * from './export';\n\n/********** export types **********/\nexport * from './types';\n\n/********** export render **********/\nexport * from './render';\n\n/********** export GPTVis **********/\nexport { withChartCode, withDefaultChartCode } from './ChartCodeRender';\nexport type { CodeBlockComponent, ErrorRender, WithChartCodeOptions } from './ChartCodeRender/type';\nexport { default as ConfigProvider, type ConfigProviderProps } from './ConfigProvider';\nexport { default as GPTVis, type GPTVisProps } from './GPTVis';\nexport { default as GPTVisLite, useEventPublish, type GPTVisLiteProps } from './GPTVis/Lite';\n\nexport { default as version } from './version';\n"],"names":[],"mappings":"+PAiDA,+CAAA,4BAjDO,oBACgB,gBACyC,YAGhE,IAAM,EAAkB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAyBzB,CAAC,CAEK,EAAU,CACd,QAAS,OACT,QAAS,SACT,QAAS,GACT,WAAY,UACZ,aAAc,EACd,SAAU,MACZ,EAEM,EAAgB,GAAA,eAAa,EAAC,CAClC,WAAY,CAAE,CAAC,WAAS,CAAC,SAAS,CAAC,CAAE,WAAS,AAAC,EAC/C,MAAO,CAAE,MAAO,MAAO,CACzB,GACM,EAA+C,AAAC,GACpD,UAAC,YAAU,EAAC,WAAY,CAAE,KAAM,CAAc,WAAI,QAGpD,EAAe,IACb,WAAC,OAAI,MAAO,YACV,UAAC,QAAM,EACL,UAAU,MACV,QAAQ,6FACR,OAAQ,CACN,IAAK,gGACP,EACA,OAAQ,CAAE,QAAS,CAAE,WAAY,SAAU,CAAE,IAE/C,UAAC,QAAM,EACL,QAAS,EACT,cAAe,EACf,OAAQ,CACN,IAAK,gGACP,EACA,QAAQ,SACR,OAAQ,CAAE,QAAS,CAAE,WAAY,MAAO,CAAE,uFCjE5B,OAAO,mBAAP,SAAO,GACP,WAAW,mBAAX,SAAW,GAEX,MAAM,mBAAN,SAAM,GACN,aAAa,mBAAb,SAAa,GACb,OAAO,mBAAP,SAAO,GAHP,MAAM,mBAAN,SAAM,GAKN,UAAU,mBAAV,SAAU,GADV,YAAY,mBAAZ,SAAY,GAEZ,OAAO,mBAAP,SAAO,GACP,SAAS,mBAAT,SAAS,GAIT,QAAQ,mBAAR,SAAQ,GADR,OAAO,mBAAP,SAAO,GADP,SAAS,mBAAT,SAAS,GADT,QAAQ,mBAAR,SAAQ,GAXR,OAAO,mBAAP,SAAO,iCAAQ,qBACA,qBACI,qBACL,qBACA,qBACO,qBACN,qBACK,qBACF,qBACH,qBACE,qBACD,qBACC,qBACF,qBACC,4FCJlC,8CAAA,SAAM,6CATW,mBACL,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,4FCad,+CAAA,4BArBO,oBAA0G,gBACvE,gBACV,YAEhC,IAAM,EAAO,CACX,CAAE,SAAU,2BAAQ,MAAO,IAAU,EACrC,CAAE,SAAU,2BAAQ,MAAO,KAAU,EACrC,CAAE,SAAU,2BAAQ,MAAO,KAAU,EACrC,CAAE,SAAU,uCAAU,oBAAqB,CAAA,CAAK,EAChD,CAAE,SAAU,2BAAQ,MAAO,MAAW,EACtC,CAAE,SAAU,2BAAQ,MAAO,MAAW,EACtC,CAAE,SAAU,uCAAU,oBAAqB,CAAA,CAAK,EAChD,CAAE,SAAU,eAAM,QAAS,CAAA,CAAK,EACjC,CAEK,EAAS,CAAC,UAAW,UAAW,OAAO,CAEvC,EAAyB,UACzB,EAAyB,UACzB,EAAsB,cAE5B,EAAe,KACb,GAAM,CAAC,EAAO,EAAS,CAAG,GAAA,UAAQ,EAAiC,WAC7D,CAAC,EAAiB,EAAmB,CAAG,GAAA,UAAQ,EAAS,IACzD,CAAC,EAAe,EAAiB,CAAG,GAAA,UAAQ,EAAS,GACrD,CAAC,EAAe,EAAiB,CAAG,GAAA,UAAQ,EAAS,GACrD,CAAC,EAAY,EAAc,CAAG,GAAA,UAAQ,EAAS,GAkCrD,MACE,WAAC,iBACC,WAAC,MAAI,EACH,OAAO,SACP,MAAO,CAAE,aAAc,EAAG,EAC1B,cAAe,CACb,MAAA,EACA,gBAAA,EACA,cAAA,EACA,cAAA,EACA,WAAA,CACF,EAEA,eA7CiB,AAAC,QASqC,EAMnB,EAMA,EAMA,EAvBxC,GAHI,EAAc,KAAK,EACrB,EAAS,EAAc,KAAK,EAE1B,AAAkC,KAAA,IAAlC,EAAc,eAAe,CAAgB,CAC/C,IAAM,EAAQ,EAAc,eAAe,CACvC,AAAU,OAAV,EACF,EAAmB,WAEnB,EAAmB,AAAiB,UAAjB,OAAO,EAAqB,EAAQ,SAAA,EAAA,EAAM,WAAW,YAAjB,SAAA,OAAA,KAAyB,WAEpF,CACA,GAAI,AAAgC,KAAA,IAAhC,EAAc,aAAa,CAAgB,CAC7C,IAAM,EAAQ,EAAc,aAAa,CACzC,EACE,AAAiB,UAAjB,OAAO,EAAqB,EAAQ,SAAA,EAAA,EAAM,WAAW,YAAjB,SAAA,OAAA,KAAyB,GAEjE,CACA,GAAI,AAAgC,KAAA,IAAhC,EAAc,aAAa,CAAgB,CAC7C,IAAM,EAAQ,EAAc,aAAa,CACzC,EACE,AAAiB,UAAjB,OAAO,EAAqB,EAAQ,SAAA,EAAA,EAAM,WAAW,YAAjB,SAAA,OAAA,KAAyB,GAEjE,CACA,GAAI,AAA6B,KAAA,IAA7B,EAAc,UAAU,CAAgB,CAC1C,IAAM,EAAQ,EAAc,UAAU,CACtC,EACE,AAAiB,UAAjB,OAAO,EAAqB,EAAQ,SAAA,EAAA,EAAM,WAAW,YAAjB,SAAA,OAAA,KAAyB,GAEjE,CACF,YAiBM,UAAC,MAAI,CAAC,IAAI,EAAC,MAAM,eAAK,KAAK,QAAQ,MAAO,CAAE,aAAc,CAAE,WAC1D,UAAC,QAAM,EAAC,MAAO,CAAE,MAAO,GAAI,EAAG,QAAS,EAAO,GAAG,CAAC,AAAC,GAAO,CAAA,CAAE,MAAO,EAAG,MAAO,CAAE,CAAA,OAElF,UAAC,MAAI,CAAC,IAAI,EAAC,MAAM,2BAAO,KAAK,kBAAkB,MAAO,CAAE,aAAc,CAAE,WACtE,UAAC,aAAW,EAAC,QAAQ,IAAC,UAAU,QAElC,UAAC,MAAI,CAAC,IAAI,EAAC,MAAM,2BAAO,KAAK,gBAAgB,MAAO,CAAE,aAAc,CAAE,WACpE,UAAC,aAAW,EAAC,QAAQ,QAEvB,UAAC,MAAI,CAAC,IAAI,EAAC,MAAM,2BAAO,KAAK,gBAAgB,MAAO,CAAE,aAAc,CAAE,WACpE,UAAC,aAAW,EAAC,QAAQ,QAEvB,UAAC,MAAI,CAAC,IAAI,EAAC,MAAM,2BAAO,KAAK,aAAa,MAAO,CAAE,aAAc,CAAE,WACjE,UAAC,aAAW,EAAC,QAAQ,UAhBlB,GAmBP,UAAC,WAAS,EACR,KAAM,EACN,WAAW,eACX,WAAW,eACX,eAAgB,CAAE,OAAQ,GAAI,EAC9B,MAAO,EACP,MAAO,CACL,gBAAiB,EACjB,QAAS,CACP,cAAA,EACA,cAAA,EACA,WAAA,CACF,CACF,OAIR,gFChGoB,cAAc,mBAAd,SAAc,GACd,MAAM,mBAAN,SAAM,GACN,UAAU,mBAAV,SAAU,GAAE,eAAe,mBAAf,iBAAe,GAE3B,OAAO,mBAAP,SAAO,GANlB,aAAa,mBAAb,eAAa,GAAE,oBAAoB,mBAApB,sBAAoB,+DAT9B,qBAGA,qBAGA,uBAGsC,oBAEgB,qBAChB,qBACyB,qBAE1C"}