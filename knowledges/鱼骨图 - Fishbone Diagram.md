## 图表属性

- 名称：鱼骨图
- 别名：因果图，因果型鱼骨图，石川图，要因分析图，英文名 Fishbone Diagram、Ishikawa Diagram
- 形状：关系形
- 图表类别：关系图
- 图表功能：层级

## 基础概念

鱼骨图，是一种以核心问题为鱼头，通过鱼骨分支的形式分析和展示问题原因或结果的图表。它利用鱼骨的结构，将问题分解为多个类别，并在每个类别下进一步细分具体原因或结果，从而清晰地展现问题的全貌。

它以节点为单位，逐级深入，以便将问题、原因或结果分类。当问题复杂且涉及多个方面时，鱼骨图可以帮助梳理并结构化关键信息，明确主要问题与其背后的因果关系。

## 适用场景

问题具有明确的核心，且可以分解为多个相关的原因或结果。

### 不适用场景

- 简单的问题或无需深入分析的情况；
- 纯数值数据或统计信息的展示；
- 信息杂乱、无核心问题；
- 精确的操作步骤或指令说明；

## 图表用法

### 图表 Spec

```typescript
type Data = {
  name: string;
  children?: Data[];
};

type FishboneDiagram = {
  type: 'fishbone-diagram';
  data: Data;
};
```

### 数据要求

- type：图表的类型，必填，文本类型，值必须为 "fishbone-diagram"。
- data：图表的数据，必填，`FishboneData` 对象类型，包含以下字段：
  - name：节点的名称，用于显示在思维导图的节点，必填，字符串类型；
  - children: 当前节点的子节点集合选填，数组对象类型。如果当前节点没有子节点，该字段可以省略。每个子节点本身也是一个 `FishboneData` 对象，这意味着它可以包含自己的子节点，从而递归地构建出一个多层次的树状结构；

## 使用示例

1. 我想分析产品销量下降的原因，可能涉及市场推广、产品质量、客户服务和价格策略四个方面。市场推广方面，可能是广告投入减少和促销活动不足；产品质量方面，可能是产品缺陷和品质不稳定；客户服务方面，可能是响应速度慢和服务态度差；价格策略方面，可能是定价过高和竞争对手降价。用鱼骨图可视化。

```json
{
  "type": "fishbone-diagram",
  "data": {
    "name": "产品销量下降",
    "children": [
      {
        "name": "市场推广",
        "children": [{ "name": "广告投入减少" }, { "name": "促销活动不足" }]
      },
      {
        "name": "产品质量",
        "children": [{ "name": "产品缺陷" }, { "name": "品质不稳定" }]
      },
      {
        "name": "客户服务",
        "children": [{ "name": "响应速度慢" }, { "name": "服务态度差" }]
      },
      {
        "name": "价格策略",
        "children": [{ "name": "定价过高" }, { "name": "竞争对手降价" }]
      }
    ]
  }
}
```

2. 用鱼骨图来可视化一下我的数据：{"problem":"生产效率低","bones":[{"category":"设备问题","factors":["设备老化","维护不及时"]},{"category":"员工问题","factors":["技能不足","工作态度差"]},{"category":"流程问题","factors":["流程繁琐","缺乏标准化"]}]}。

```json
{
  "type": "fishbone-diagram",
  "data": {
    "name": "生产效率低",
    "children": [
      {
        "name": "设备问题",
        "children": [{ "name": "设备老化" }, { "name": "维护不及时" }]
      },
      {
        "name": "员工问题",
        "children": [{ "name": "技能不足" }, { "name": "工作态度差" }]
      },
      {
        "name": "流程问题",
        "children": [{ "name": "流程繁琐" }, { "name": "缺乏标准化" }]
      }
    ]
  }
}
```
